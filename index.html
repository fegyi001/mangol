<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>mangol-app documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
	      <link rel="stylesheet" href="./styles/style.css">
        <link rel="stylesheet" href="./styles/material.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="./" class="navbar-brand">mangol-app documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search">
</div>
            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content getting-started">
                   <div class="content-data">

<h1 id="mangol">Mangol</h1>
<blockquote>
<p>Maps created with Angular &amp; OpenLayers using Material design</p>
</blockquote>
<img src="./src/assets/img/logo/mangol_logo.png" width="200">

<p><a href="https://gitter.im/mangol_official/Lobby?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/mangol_official/Lobby.svg" alt="Join the chat at https://gitter.im/mangol_official/Lobby" class="img-responsive"></a></p>
<p><a href="https://david-dm.org/fegyi001/mangol"><img src="https://david-dm.org/fegyi001/mangol.svg" alt="Dependency Status" class="img-responsive"></a>
<a href="https://david-dm.org/fegyi001/mangol#info=devDependencies"><img src="https://david-dm.org/fegyi001/mangol/dev-status.svg" alt="devDependency Status" class="img-responsive"></a></p>
<h2 id="about-mangol">About Mangol</h2>
<p>Mangol is an open source web mapping library for combining <a href="https://angular.io/">Angular</a>, <a href="https://material.angular.io/">Angular Material</a> and <a href="https://openlayers.org/">OpenLayers</a> to create a modern, responsive interactive GUI for web maps (<em>M_ stands for _Material</em>, <em>ang</em> for <em>Angular</em> and <em>ol</em> for <em>OpenLayers</em>). The project is written in TypeScript and uses SCSS for styling. Mangol uses <a href="https://github.com/ngrx/platform">@ngrx/store</a> under the hood for state management.</p>
<h2 id="live-example">Live example</h2>
<p>An online example can be opened <a href="http://188.166.116.137/mangol">here</a>.</p>
<h2 id="run-demo-edit-source-files">Run demo &amp; edit source files</h2>
<p>If you wish to see the built-in demos or modify the source files, simply run <code>ng serve</code> or <code>npm run start</code> to load the demo page on <code>localhost:4200</code>. With this command you can also watch file changes until you shut it down.</p>
<h2 id="use-as-npm-dependency">Use as npm dependency</h2>
<p>You most likely want to use Mangol as an npm library in your Angular (TypeScript &amp; SCSS) project. You can also do that since <a href="https://www.npmjs.com/package/mangol">Mangol is on npm</a> as well.</p>
<p>First, add Mangol as a dependency to your project:</p>
<div><pre class="line-numbers"><code class="language-batch">npm install --save mangol</code></pre></div><p>or</p>
<div><pre class="line-numbers"><code class="language-batch">yarn add mangol</code></pre></div><p>You have to add to your <code>app.module.ts</code> (or whatever you call it in your project, the one that gets bootstrapped in main.ts)</p>
<div><pre class="line-numbers"><code class="language-typescript">import { BrowserAnimationsModule } from &#39;&#64;angular/platform-browser/animations&#39;;
import { MangolModule } from &#39;mangol&#39;;</code></pre></div><p>And in @NgModule add MangolModule and BrowserAnimationsModule to the imports:</p>
<div><pre class="line-numbers"><code class="language-typescript">imports: [
    ...,
    BrowserAnimationsModule,
    MangolModule,
    ...
]</code></pre></div><p>Also add some vendor js files. If you use Webpack and created your project with @angular/cli, add the following libraries to your <code>angular.json</code>:</p>
<div><pre class="line-numbers"><code class="language-json">&quot;scripts&quot;: [
    &quot;node_modules/proj4/dist/proj4.js&quot;,
    &quot;node_modules/jspdf/dist/jspdf.min.js&quot;
]</code></pre></div><p>At the beginning of your main SCSS file, you should import mangol.scss like this:</p>
<div><pre class="line-numbers"><code class="language-scss">&#64;import &#39;~mangol/scss/mangol&#39;;</code></pre></div><p>After that, you can use Mangol html tags in your templates such as</p>
<div><pre class="line-numbers"><code class="language-html">&lt;mangol&gt;&lt;/mangol&gt;</code></pre></div><h2 id="run-on-localhost">Run on localhost</h2>
<p>At the moment when you run <code>ng serve</code> there will be the well-known error in the browser console: <code>ExpressionChangedAfterItHasBeenCheckedError</code>. Until this is fixed in Mangol please enable production mode in <code>main.ts</code> like this:</p>
<div><pre class="line-numbers"><code class="language-typescript">import { enableProdMode } from &#39;&#64;angular/core&#39;;
import { platformBrowserDynamic } from &#39;&#64;angular/platform-browser-dynamic&#39;;

import { AppModule } from &#39;./app/app.module&#39;;

enableProdMode();

platformBrowserDynamic()
  .bootstrapModule(AppModule)
  .catch(err =&gt; console.log(err));</code></pre></div><h2 id="production-build">Production build</h2>
<p>Unfortunately there is a known issue with OL when build using Ahead-of-time (aot). To make aot possible, you should modify <code>node_modules/ol/package.json</code> file, and set <code>&quot;sideEffects&quot;: true</code>. Another option is to disable optimization in your project config (in <code>angular.json</code> and set <code>optimization: false</code>, but I don&#39;t recommend it since the bundle size will be much bigger). After either of the above solutions, <code>ng build --prod --aot</code> should work fine.</p>
<h2 id="basic-example">Basic example</h2>
<p>This is the simplest implementation of Mangol in a component (this will create a default map with one OpenStreetMap layer) :</p>
<div><pre class="line-numbers"><code class="language-typescript">import { Component } from &#39;&#64;angular/core&#39;;

&#64;Component({
  selector: &#39;app&#39;,
  template: `
    &lt;mangol&gt;&lt;/mangol&gt;
  `
})
export class AppComponent {}</code></pre></div><h2 id="configuring-the-component">Configuring the component</h2>
<p>You can further configure your Mangol component by creating a variable of type <b>MangolConfig</b> and add this property as an input for yor mangol component like this:</p>
<div><pre class="line-numbers"><code class="language-typescript">import { Component, OnInit } from &#39;&#64;angular/core&#39;;
import View from &#39;ol/View&#39;;
import { fromLonLat } from &#39;ol/proj.js&#39;;
import TileLayer from &#39;ol/layer/Tile&#39;;
import OSM from &#39;ol/source/OSM&#39;;
import { MangolConfig, MangolLayer } from &#39;mangol&#39;;

&#64;Component({
  selector: &#39;app&#39;,
  template: `
     &lt;mangol [config]=&quot;mangolConfig&quot;&gt;&lt;/mangol&gt;
  `
})
export class AppComponent implements OnInit {
  // Notice the MangolConfig type, this  is a helper interface to easily fill out the required and optional parameters for your Mangol configuration.
  mangolConfig = {} as MangolConfig;

  public ngOnInit() {
    this.mangolConfig = {
      map: {
        renderer: &#39;canvas&#39;,
        target: &#39;mangol-demo&#39;,
        view: new View({
          projection: &#39;EPSG:900913&#39;,
          center: fromLonLat(
            [19.3956393810065, 47.168464955013],
            &#39;EPSG:900913&#39;
          ),
          zoom: 4
        }),
        layers: [
          new MangolLayer({
            name: &#39;OpenStreetMap Layer&#39;,
            details: &#39;Here are the OSM layer details&#39;,
            layer: new TileLayer({
              source: new OSM(),
              visible: true
            })
          })
        ]
      },
      sidebar: {
        opened: true,
        toolbar: {
          layertree: {},
          measure: {}
        }
      }
    };
  }
}</code></pre></div><p>Mangol is highly configurable through MangolConfig. Just check the API doc for further options (currently under heavy development).</p>
<h2 id="access-and-modify-the-internal-state">Access and modify the internal State</h2>
<p>After initialization you can also modify almost everything in your running Mangol app with a helper service called <strong>MangolService</strong>. Mangol is written in a reactive way which means almost every property is an RxJS Observable. Mangol itself uses @ngrx/store under the hood, and with the injectable MangolService you can access and modify the store state easily.</p>
<p>For example, if you wish to open the sidebar and change its title in runtime all you have to do is call the appropriate public functions form MangolService:</p>
<div><pre class="line-numbers"><code class="language-typescript">import { Component, OnInit } from &#39;&#64;angular/core&#39;;
import { MangolService, MangolConfig } from &#39;mangol&#39;;

&#64;Component({
  selector: &#39;app-root&#39;,
  template: `
    &lt;mangol [config]=&quot;mangolConfig&quot;&gt;&lt;/mangol&gt;
  `
  styleUrls: [&#39;./app.component.scss&#39;]
})
export class AppComponent implements OnInit {

  config: MangolConfig;

  constructor(private mangolService: MangolService) {}

  ngOnInit() {
    // Initialize the MangolConfig with an empty and closed sidebar
    this.config = {
      sidebar: { title: &#39;Mangol Sidebar&#39;, collapsible: true, opened: true }
    };
    // After 1.5 seconds rename the sidebar title
    setTimeout(() =&gt; {
      this.mangolService.setSidebarTitle(&#39;My title modified after 1.5 sec&#39;);
    }, 1500);
    // After 3 seconds toggle the sidebar
    setTimeout(() =&gt; {
      this.mangolService.toggleSidebar();
      console.log(&#39;I just toggled the sidebar.&#39;);
    }, 3000);
  }
}</code></pre></div><h2 id="styling">Styling</h2>
<p>Mangol uses Material components and therefore it supports some SCSS customization. For example if you wish to alter the default colors, you can easily do that by overwriting the primary, accent and warn Material palettes <b>before</b> importing mangol.scss. Do it like this:</p>
<div><pre class="line-numbers"><code class="language-scss">&#64;import &#39;~&#64;angular/material/theming&#39;;
&#64;include mat-core();
$mangol-primary: mat-palette($mat-teal);
$mangol-accent: mat-palette($mat-lime);
$mangol-warn: mat-palette($mat-deep-orange);
$mangol-theme: mat-light-theme($mangol-primary, $mangol-accent, $mangol-warn);

&#64;import &#39;~mangol/scss/mangol&#39;;</code></pre></div><p>If you wish to set the component height, sidebar width or the quicksearch panel width, also do it before importing mangol.scss:</p>
<div><pre class="line-numbers"><code class="language-scss">$mangol-height: 400px;
$mangol-sidebar-width: 450px;
$mangol-quicksearch-width: 250px;

&#64;import &#39;~mangol/scss/mangol&#39;;</code></pre></div><h2 id="author">Author</h2>
<p><code>Mangol</code> was created by <a href="mailto:fegyi001@gmail.com">Gergely Padányi-Gulyás</a></p>


















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 0;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'getting-started';
            var COMPODOC_CURRENT_PAGE_URL = 'index.html';
       </script>

       <script src="./js/libs/custom-elements.min.js"></script>
       <script src="./js/libs/lit-html.js"></script>
       <script src="./js/menu-wc.js"></script>

       <script src="./js/libs/bootstrap-native.js"></script>

       <script src="./js/libs/es6-shim.min.js"></script>
       <script src="./js/libs/EventDispatcher.js"></script>
       <script src="./js/libs/promise.min.js"></script>
       <script src="./js/libs/zepto.min.js"></script>

       <script src="./js/compodoc.js"></script>

       <script src="./js/tabs.js"></script>
       <script src="./js/menu.js"></script>
       <script src="./js/libs/clipboard.min.js"></script>
       <script src="./js/libs/prism.js"></script>
       <script src="./js/sourceCode.js"></script>
          <script src="./js/search/search.js"></script>
          <script src="./js/search/lunr.min.js"></script>
          <script src="./js/search/search-lunr.js"></script>
          <script src="./js/search/search_index.js"></script>
       <script src="./js/lazy-load-graphs.js"></script>


    </body>
</html>
